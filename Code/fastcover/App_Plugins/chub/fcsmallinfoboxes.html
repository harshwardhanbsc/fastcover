<div ng-controller="CHControls.SmallBoxController">
    <div class="smallinfoboxcontainer">
        <ul>
            <li ng-repeat="input in control.inputs" ng-show="input.id <= 3">

                <div class="smallinfoboxheading">
                    <h3><input type="text" ng-model="input.heading" /></h3>
                    <div class="usky-editor-placeholder imagegrid" ng-click="setimage(input.id)" ng-if="input.image == null" style="width: 100%;">
                        <i class="icon icon-picture"></i>
                        <div ng-id="!control.$inserted" id="divsmallimage" class="help-text">
                            Image
                        </div>
                    </div>

                    <div ng-if="input.image != null">
                        <div class="imggrid4wide">
                            <img ng-click="setimage(input.id)" ng-src="{{input.image.image}}" cl class="fullSizeImage" />
                            <a href class="picked-image" ng-click="removeimage(input.id)"><i class="icon icon-delete"></i></a>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="smallinfoboxcontent">
                    <div ng-controller="Umbraco.PropertyEditors.Grid.RichTextEditorController as vm" class="editorname">
                        <div grid-rte
                             configuration="control.editor.config.fcsmallinfoboxesrtetoolbar"
                             value="input.rteValue"
                             unique-id="control.$uniqueId + $index"
                             on-link-picker-click="vm.openLinkPicker"
                             on-media-picker-click="vm.openMediaPicker"
                             on-embed-click="vm.openEmbed"
                             on-macro-picker-click="vm.openMacroPicker">
                        </div>
                        <umb-overlay ng-if="vm.linkPickerOverlay.show"
                                     model="vm.linkPickerOverlay"
                                     position="right"
                                     view="vm.linkPickerOverlay.view">
                        </umb-overlay>
                        <umb-overlay ng-if="vm.mediaPickerOverlay.show"
                                     model="vm.mediaPickerOverlay"
                                     position="right"
                                     view="vm.mediaPickerOverlay.view">
                        </umb-overlay>
                        <umb-overlay ng-if="vm.embedOverlay.show"
                                     model="vm.embedOverlay"
                                     position="right"
                                     view="vm.embedOverlay.view">
                        </umb-overlay>
                        <umb-overlay ng-if="vm.macroPickerOverlay.show"
                                     model="vm.macroPickerOverlay"
                                     view="vm.macroPickerOverlay.view"
                                     position="right">
                        </umb-overlay>
                    </div>
                </div>
            </li>
        </ul>
        <div ng-show="control.addshow" class="add-linkcontainer">
            <a href="#" class="add-link" ng-click="AddBox()" prevent-default="">
                <i class="icon icon-add large"></i>
            </a>
        </div>
    </div>
</div>
